import{_ as k,u as V,k as x,l as I,v as S,w as B,o as p,b as e,A as i,B as d,c as g,h as b,a as v,s as y,J as R,y as j,G as E,r as N,p as T,f as $}from"./app-h2MldgnN.js";import{_ as D}from"./GuestLayout-DxESMbO6.js";import{S as L}from"./SummernoteEditor-g0cSdX2s.js";const l=u=>(T("data-v-7a78ff4f"),u=u(),$(),u),A={class:"p-4 sm:p-6 bg-white shadow-md max-w-3xl mx-auto"},M={class:"flex flex-wrap -mx-2"},O={class:"w-full sm:w-1/2 mb-5 px-2"},q={class:"flex flex-col gap-1"},G=l(()=>e("label",{for:"title",class:"text-sm mb-2"},"Category Name",-1)),J={class:"w-full sm:w-1/2 mb-5 px-2"},P={class:"flex flex-col gap-1"},z=l(()=>e("label",{for:"title",class:"text-sm mb-2"},"Category Title",-1)),F={class:"w-full sm:w-1/2 mb-5 px-2"},H={class:"flex flex-col gap-1"},K=l(()=>e("label",{for:"number",class:"text-sm mb-2"},"Order Level",-1)),Q={class:"w-full sm:w-1/2 mb-5 px-2"},W={class:"flex flex-col gap-1"},X=l(()=>e("label",{for:"number",class:"text-sm mb-2"},"Category Icon",-1)),Y={class:"w-full sm:w-1/2 mb-5 px-2"},Z={class:"flex flex-col gap-1"},ee=l(()=>e("label",{for:"number",class:"text-sm mb-2"},"Category Image",-1)),te={class:"border border-primary border-dashed p-3 sm:p-4 rounded-2xl flex items-center justify-center w-full h-44 cursor-pointer hover:bg-gray-50 transition-colors"},oe={class:"w-full h-full"},se=["src"],le={key:1,class:"flex flex-col items-center justify-center gap-2 h-full"},ae=l(()=>e("span",{class:"text-primary text-sm font-normal opacity-85 text-center px-2"},"Upload Category Image",-1)),re=l(()=>e("div",{class:"hidden sm:block sm:w-1/2 mb-5 px-2"},null,-1)),ne={class:"w-full mb-5 px-2"},ie=l(()=>e("label",{for:"short_description",class:"text-sm mb-2 block"},"Short Description",-1)),de={class:"w-full px-2 mb-5"},ue=l(()=>e("label",{for:"description",class:"text-sm mb-2 block"},"Description",-1)),ce={class:"editor_data border border-gray-300 rounded-lg overflow-hidden"},me={class:"w-full mt-5 px-2"},pe={__name:"Edit",setup(u){const{loading:fe,error:_e,sendRequest:f}=V(),h=R(),c=j(),w=async()=>{var t,m,s,n;const a=await f({url:`/v1/service-category/${(t=c==null?void 0:c.params)==null?void 0:t.id}`,method:"get"});a&&(o.value=(m=a.data)==null?void 0:m.data,r.value=(n=(s=a.data)==null?void 0:s.data)==null?void 0:n.image,o.value.image=null)},o=x({name:null,title:null,icon:null,image:null,short_description:null,description:null,order_level:null,status:1}),r=x(null),C=a=>{const t=a.target.files[0];o.value.image=t,r.value=URL.createObjectURL(t)},U=async a=>{const t=await f({method:"post",url:`/v1/service-category/${a}`,data:o.value,params:{_method:"PUT"},headers:{"Content-Type":"multipart/form-data"}});t!=null&&t.data&&(E.success("Category Updated Successfully",{autoclose:1e3,theme:"dark"}),await h.push("/admin/service-category"))};return I(()=>{w()}),(a,t)=>{const m=N("Icon");return p(),S(D,null,{default:B(()=>[e("div",A,[e("div",M,[e("div",O,[e("div",q,[G,i(e("input",{type:"text",class:"input w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[0]||(t[0]=s=>o.value.name=s)},null,512),[[d,o.value.name]])])]),e("div",J,[e("div",P,[z,i(e("input",{type:"text",class:"input w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[1]||(t[1]=s=>o.value.title=s)},null,512),[[d,o.value.title]])])]),e("div",F,[e("div",H,[K,i(e("input",{type:"number",class:"input w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[2]||(t[2]=s=>o.value.order_level=s)},null,512),[[d,o.value.order_level]])])]),e("div",Q,[e("div",W,[X,i(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.value.icon=s),class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200 min-h-[80px] sm:min-h-[80px]"},null,512),[[d,o.value.icon]])])]),e("div",Y,[e("div",Z,[ee,e("label",te,[e("div",oe,[r.value?(p(),g("img",{key:0,src:r.value,class:"w-full h-full rounded-md object-cover"},null,8,se)):b("",!0),r.value?b("",!0):(p(),g("div",le,[v(m,{name:"tabler:cloud-upload",class:"text-primary text-2xl sm:text-3xl opacity-85"}),ae]))]),e("input",{id:"category-icon",onChange:C,type:"file",hidden:""},null,32)])])]),re,e("div",ne,[ie,i(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.value.short_description=s),class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200 min-h-[100px]"},null,512),[[d,o.value.short_description]])]),e("div",de,[ue,e("div",ce,[v(y(L),{modelValue:o.value.description,"onUpdate:modelValue":t[5]||(t[5]=s=>o.value.description=s)},null,8,["modelValue"])])]),e("div",me,[e("button",{class:"w-full sm:w-auto px-6 py-3.5 bg-primary hover:bg-primary/90 text-sm font-medium text-white rounded-lg transition-colors duration-200",onClick:t[6]||(t[6]=s=>{var n,_;return U((_=(n=y(c))==null?void 0:n.params)==null?void 0:_.id)})}," Update Category ")])])])]),_:1})}}},ve=k(pe,[["__scopeId","data-v-7a78ff4f"]]);export{ve as default};
