import{u as m,k as v,l as w,v as k,w as d,o as n,b as s,c,e as g,F as y,r as C,a as o,j as a,t,G as j}from"./app-h2MldgnN.js";import{_ as D}from"./GuestLayout-DxESMbO6.js";const $={class:"p-4 sm:p-6"},B=s("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4"},[s("div",null,[s("h2",{class:"text-xl sm:text-2xl font-bold text-gray-900"}," Complaints "),s("p",{class:"text-gray-500 text-sm mt-1"}," View and manage public complaints ")])],-1),A={class:"block sm:hidden space-y-4"},L={class:"space-y-3 mb-4"},N={class:"flex items-start gap-3"},R={class:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0"},S={class:"flex-1 min-w-0"},V={class:"font-semibold text-gray-900 text-sm truncate"},F={class:"text-gray-600 text-xs truncate"},q={class:"bg-gray-50 rounded-lg p-3"},E={class:"font-medium text-sm text-gray-800"},G={class:"inline-block mt-1 px-2 py-0.5 bg-gray-200 text-gray-700 text-xs rounded"},I={class:"flex items-center gap-2 pt-4 border-t border-gray-100"},M=s("span",null,"Details",-1),T=["onClick"],z=s("span",null,"Delete",-1),H={class:"hidden sm:block bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},J={class:"overflow-x-auto"},K={class:"w-full text-sm text-left text-gray-700"},O=s("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 border-b border-gray-200"},[s("tr",null,[s("th",{scope:"col",class:"px-6 py-3.5 font-medium"}," Name "),s("th",{scope:"col",class:"px-6 py-3.5 font-medium"}," Contact "),s("th",{scope:"col",class:"px-6 py-3.5 font-medium"}," Type "),s("th",{scope:"col",class:"px-6 py-3.5 font-medium"}," Subject "),s("th",{scope:"col",class:"px-6 py-3.5 font-medium"}," Actions ")])],-1),P={class:"divide-y divide-gray-100"},Q={class:"px-6 py-4"},U={class:"flex items-center gap-3"},W={class:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center"},X={class:"font-medium text-gray-900"},Y={class:"px-6 py-4"},Z={class:"flex flex-col"},ss={class:"text-gray-900"},es={class:"text-gray-500 text-xs"},ts={class:"px-6 py-4"},os={class:"inline-block px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full truncate"},as={class:"px-6 py-4 max-w-[250px]"},ls={class:"truncate font-medium text-gray-800"},ns={class:"px-6 py-4"},cs={class:"flex items-center gap-2"},rs=s("span",null,"Details",-1),ds=["onClick"],is=s("span",null,"Delete",-1),gs={__name:"Index",setup(ps){const{loading:xs,error:_s,sendRequest:i}=m(),r=v(null),p=async()=>{const l=await i({method:"get",url:"/v1/complaint"});l&&(r.value=l.data)},x=async l=>{confirm("Are you sure you want to delete this complaint?")&&await i({method:"delete",url:`/v1/complaint/${l}`})&&(await p(),j.success("Complaint Deleted Successfully",{autoClose:500,theme:"dark"}))};return w(()=>{p()}),(l,b)=>{const _=C("RouterLink");return n(),k(D,null,{default:d(()=>{var u,h;return[s("section",$,[B,s("div",A,[(n(!0),c(y,null,g((u=r.value)==null?void 0:u.data,e=>(n(),c("div",{key:e.id,class:"bg-white rounded-xl border border-gray-200 shadow-sm p-4"},[s("div",L,[s("div",N,[s("div",R,[o(a,{name:"mdi:account",class:"text-primary text-lg"})]),s("div",S,[s("h3",V,t(e==null?void 0:e.name),1),s("p",F,t(e==null?void 0:e.phone),1)])]),s("div",q,[s("p",E,t(e==null?void 0:e.subject),1),s("span",G,t(e==null?void 0:e.type),1)])]),s("div",I,[o(_,{to:`/admin/complaint-details/${e==null?void 0:e.id}`,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg border border-blue-600 bg-blue-50 text-blue-700 hover:bg-blue-600 hover:text-white transition-colors text-sm font-medium"},{default:d(()=>[o(a,{name:"material-symbols:eye-tracking-sharp",class:"text-lg"}),M]),_:2},1032,["to"]),s("button",{onClick:f=>x(e==null?void 0:e.id),class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg border border-red-600 bg-red-50 text-red-700 hover:bg-red-600 hover:text-white transition-colors text-sm font-medium"},[o(a,{name:"material-symbols-light:delete-outline-sharp",class:"text-lg"}),z],8,T)])]))),128))]),s("div",H,[s("div",J,[s("table",K,[O,s("tbody",P,[(n(!0),c(y,null,g((h=r.value)==null?void 0:h.data,e=>(n(),c("tr",{key:e.id,class:"hover:bg-gray-50/50 transition-colors"},[s("td",Q,[s("div",U,[s("div",W,[o(a,{name:"mdi:account",class:"text-primary text-sm"})]),s("div",X,t(e==null?void 0:e.name),1)])]),s("td",Y,[s("div",Z,[s("span",ss,t(e==null?void 0:e.phone),1),s("span",es,t(e==null?void 0:e.email),1)])]),s("td",ts,[s("span",os,t(e==null?void 0:e.type),1)]),s("td",as,[s("div",ls,t(e==null?void 0:e.subject),1)]),s("td",ns,[s("div",cs,[o(_,{to:`/admin/complaint-details/${e==null?void 0:e.id}`,class:"flex items-center gap-2 px-3 py-2 rounded-lg border border-blue-600 bg-blue-50 text-blue-700 hover:bg-blue-600 hover:text-white transition-colors text-sm"},{default:d(()=>[o(a,{name:"material-symbols:eye-tracking-sharp",class:"text-lg"}),rs]),_:2},1032,["to"]),s("button",{onClick:f=>x(e==null?void 0:e.id),class:"flex items-center gap-2 px-3 py-2 rounded-lg border border-red-600 bg-red-50 text-red-700 hover:bg-red-600 hover:text-white transition-colors text-sm"},[o(a,{name:"material-symbols-light:delete-outline-sharp",class:"text-lg"}),is],8,ds)])])]))),128))])])])])])]}),_:1})}}};export{gs as default};
