import{u as I,k,l as R,v as T,w as B,o as d,b as e,A as u,B as i,c as m,e as N,F as S,h as x,a as _,s as f,d as $,t as j,J as A,y as F,G as D,r as M}from"./app-h2MldgnN.js";import{_ as H}from"./GuestLayout-DxESMbO6.js";import"./SummernoteEditor-g0cSdX2s.js";const L={class:"p-4 sm:p-6 bg-white shadow-md max-w-3xl mx-auto"},G=e("div",{class:"mb-6"},[e("h2",{class:"text-xl sm:text-2xl font-semibold text-primary text-center"}," Update Quote "),e("p",{class:"text-gray-500 text-sm text-center mt-1"}," Update a Quote ")],-1),J={class:"flex flex-wrap -mx-2"},K={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},O={class:"flex flex-col gap-1"},P=e("label",{for:"title",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Title",-1),Y={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},z={class:"flex flex-col gap-1"},W=e("label",{for:"title",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Sub Title",-1),X={class:"w-full mb-4 sm:mb-5 px-2"},Z={class:"flex flex-col gap-1"},ee=e("label",{for:"order_number",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Order Number",-1),te={class:"w-full mb-3 sm:mb-5 px-2"},se=e("label",{for:"key-features",class:"text-xs mb-1 block"},"Key Features",-1),le={class:"flex items-end flex-wrap -mt-4"},ae={class:"w-4/5 pr-4 mt-4"},oe={class:"flex items-center mb-2"},re=["onUpdate:modelValue"],ne={class:"relative w-1/2"},de=["onUpdate:modelValue"],ue=["onClick"],ie=["onUpdate:modelValue"],ce={class:"w-full mb-4 px-2"},me={class:"flex flex-col"},pe=e("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Hero Image",-1),xe={class:"border-2 border-dashed border-primary/40 hover:border-primary p-4 rounded-xl flex items-center justify-center w-full h-auto cursor-pointer transition-all hover:bg-primary/5"},_e={class:"text-center"},fe=["src"],be={key:1,class:"flex flex-col items-center"},ge=e("span",{class:"text-primary text-sm font-medium"}," Upload Hero Image ",-1),ye=e("span",{class:"text-gray-400 text-xs mt-1"}," Recommended: 1200Ã—600px ",-1),he={class:"w-full mt-4 sm:mt-5 px-2"},ve=["disabled"],Ce={__name:"Edit",setup(we){const{loading:b,error:ke,sendRequest:g}=I(),U=A(),p=F(),V=async()=>{var t,r,s,n,o,y,h,v,w;const a=await g({url:`/v1/quote/${(t=p==null?void 0:p.params)==null?void 0:t.id}`,method:"get"});a&&(l.value=(r=a.data)==null?void 0:r.data,l.value.key_features=(o=(n=(s=a.data)==null?void 0:s.data)==null?void 0:n.key_features)!=null&&o.length?(h=(y=a.data)==null?void 0:y.data)==null?void 0:h.key_features:[{quote:null,year:null,tag:null}],c.value=(w=(v=a.data)==null?void 0:v.data)==null?void 0:w.image,l.value.image=null)},c=k(null),l=k({title:null,sub_title:null,order_number:null,image:null,status:0,key_features:[{quote:null,year:null,tag:null}]}),q=async a=>{const t=await g({method:"post",url:`/v1/quote/${a}`,data:l.value,params:{_method:"PUT"}});t!=null&&t.data&&(D.success("Quote Updated Successfully",{autoclose:1e3,theme:"dark"}),await U.push("/admin/quote"))},C=()=>{l.value.key_features.push({quote:null,year:null,tag:null})},E=a=>{l.value.key_features.length>1&&l.value.key_features.splice(a,1)},Q=a=>{const t=a.target.files[0];if(t){l.value.image=t;const r=new FileReader;r.onload=s=>{c.value=s.target.result},r.readAsDataURL(t)}};return R(()=>{V()}),(a,t)=>{const r=M("Icon");return d(),T(H,null,{default:B(()=>[e("div",L,[G,e("div",J,[e("div",K,[e("div",O,[P,u(e("input",{type:"text",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[0]||(t[0]=s=>l.value.title=s),placeholder:"Enter Quote title"},null,512),[[i,l.value.title]])])]),e("div",Y,[e("div",z,[W,u(e("input",{type:"text",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[1]||(t[1]=s=>l.value.sub_title=s),placeholder:"Enter Quote sub title"},null,512),[[i,l.value.sub_title]])])]),e("div",X,[e("div",Z,[ee,u(e("input",{type:"number",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[2]||(t[2]=s=>l.value.order_number=s),placeholder:"Enter display order"},null,512),[[i,l.value.order_number]])])]),e("div",te,[se,e("div",le,[(d(!0),m(S,null,N(l.value.key_features,(s,n)=>(d(),m("div",ae,[e("div",oe,[u(e("input",{type:"text",class:"border border-gray-300 mr-2 p-2 w-1/2 text-sm rounded-lg",placeholder:"Enter Year","onUpdate:modelValue":o=>s.year=o},null,8,re),[[i,s.year]]),e("div",ne,[u(e("input",{type:"text",class:"border border-gray-300 p-2 w-full text-sm rounded-lg",placeholder:"Enter Tag","onUpdate:modelValue":o=>s.tag=o},null,8,de),[[i,s.tag]]),l.value.key_features.length>1?(d(),m("button",{key:0,onClick:o=>E(n),class:"absolute right-1 top-1 bg-slate-100 rounded w-8 h-8 flex items-center justify-center shadow"},[_(r,{name:"material-symbols:close-rounded",class:"text-common text-xl"})],8,ue)):x("",!0)])]),u(e("textarea",{class:"border border-gray-300 p-2 w-full text-sm rounded-lg",placeholder:"Enter Quote","onUpdate:modelValue":o=>s.quote=o,rows:"3"},null,8,ie),[[i,s.quote]])]))),256)),e("button",{class:"w-1/5 text-xs bg-primary rounded-lg py-3 px-4 text-nowrap text-white",onClick:C}," Add More ")])]),e("div",ce,[e("div",me,[pe,e("label",xe,[e("div",_e,[c.value?(d(),m("img",{key:0,src:c.value,class:"w-full h-full rounded-lg object-cover"},null,8,fe)):x("",!0),c.value?x("",!0):(d(),m("div",be,[_(r,{name:"tabler:cloud-upload",class:"text-primary text-2xl sm:text-3xl mb-2"}),ge,ye]))]),e("input",{id:"category-icon",onChange:Q,type:"file",hidden:"",accept:"image/*"},null,32)])])]),e("div",he,[e("button",{class:"w-full px-4 sm:px-6 py-3.5 bg-primary hover:bg-primary/90 text-white text-sm font-medium rounded-lg shadow-sm hover:shadow transition-all duration-200 flex items-center justify-center gap-2",onClick:t[3]||(t[3]=s=>{var n,o;return q((o=(n=f(p))==null?void 0:n.params)==null?void 0:o.id)}),disabled:f(b)},[_(r,{name:"mdi:content-save",class:"text-lg"}),$(" "+j(f(b)?"Saving...":"update Quote"),1)],8,ve)])])])]),_:1})}}};export{Ce as default};
