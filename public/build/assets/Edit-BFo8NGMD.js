import{u as N,k,l as R,v as B,w as $,o as r,b as e,A as m,B as p,c as d,e as A,F as D,h as x,a as f,s as _,d as F,t as S,J as T,y as M,G as Q,r as q}from"./app-h2MldgnN.js";import{_ as H}from"./GuestLayout-DxESMbO6.js";import"./SummernoteEditor-g0cSdX2s.js";const L={class:"p-4 sm:p-6 bg-white shadow-md max-w-3xl mx-auto"},G=e("div",{class:"mb-6"},[e("h2",{class:"text-xl sm:text-2xl font-semibold text-primary text-center"}," Update Vision "),e("p",{class:"text-gray-500 text-sm text-center mt-1"}," Update Vision ")],-1),J={class:"flex flex-wrap -mx-2"},K={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},O={class:"flex flex-col gap-1"},P=e("label",{for:"title",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Title",-1),z={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},W={class:"flex flex-col gap-1"},X=e("label",{for:"title",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Description",-1),Y={class:"w-full mb-4 sm:mb-5 px-2"},Z={class:"flex flex-col gap-1"},ee=e("label",{for:"order_number",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Order Number",-1),te={class:"w-full mb-3 sm:mb-5 px-2"},se=e("label",{for:"key-features",class:"text-xs mb-1 block"},"Key Features",-1),ae={class:"flex items-end flex-wrap -mt-4"},oe={class:"w-4/5 pr-4 mt-4"},le={class:"flex items-center"},re={class:"relative w-full"},ne=["onUpdate:modelValue"],ie=["onClick"],de={class:"w-full mb-4 sm:mb-5 px-2"},ue={class:"flex flex-col gap-1"},ce=e("label",{for:"number",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Hero Image",-1),me={class:"border border-primary border-dashed p-4 rounded-2xl flex items-center justify-center w-full h-auto cursor-pointer hover:bg-gray-50 transition-colors"},pe={class:"w-full h-full flex items-center justify-center"},xe=["src"],fe={key:1,class:"flex flex-col items-center justify-center gap-3"},_e=e("span",{class:"text-primary text-sm font-normal opacity-85 text-center px-2"}," Upload Hero Image ",-1),be=e("span",{class:"text-gray-500 text-xs mt-1"}," Recommended: 1200x600px ",-1),ye={class:"w-full mt-4 sm:mt-5 px-2"},ge=["disabled"],Ue={__name:"Edit",setup(he){const{loading:b,error:ve,sendRequest:y}=N(),V=T(),u=M(),U=async()=>{var t,l,a,c,i,g,h,v,w;const o=await y({url:`/v1/vision/${(t=u==null?void 0:u.params)==null?void 0:t.id}`,method:"get"});o&&(s.value=(l=o.data)==null?void 0:l.data,s.value.key_features=(i=(c=(a=o.data)==null?void 0:a.data)==null?void 0:c.key_features)!=null&&i.length?(h=(g=o.data)==null?void 0:g.data)==null?void 0:h.key_features:[{name:null}],n.value=(w=(v=o.data)==null?void 0:v.data)==null?void 0:w.image,s.value.image=null)},n=k(null),s=k({title:null,sub_title:null,order_number:null,image:null,status:0,key_features:[{name:null}]}),C=async o=>{const t=await y({method:"post",url:`/v1/vision/${o}`,data:s.value,params:{_method:"PUT"}});t!=null&&t.data&&(Q.success("Vision Updated Successfully",{autoclose:1e3,theme:"dark"}),await V.push("/admin/vision"))},I=()=>{s.value.key_features.push({quote:null})},j=o=>{s.value.key_features.length>1&&s.value.key_features.splice(o,1)},E=o=>{const t=o.target.files[0];if(t){s.value.image=t;const l=new FileReader;l.onload=a=>{n.value=a.target.result},l.readAsDataURL(t)}};return R(()=>{U()}),(o,t)=>{const l=q("Icon");return r(),B(H,null,{default:$(()=>[e("div",L,[G,e("div",J,[e("div",K,[e("div",O,[P,m(e("input",{type:"text",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[0]||(t[0]=a=>s.value.title=a),placeholder:"Enter Quote title"},null,512),[[p,s.value.title]])])]),e("div",z,[e("div",W,[X,m(e("textarea",{type:"text",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[1]||(t[1]=a=>s.value.description=a),placeholder:"Enter Quote sub title"},null,512),[[p,s.value.description]])])]),e("div",Y,[e("div",Z,[ee,m(e("input",{type:"number",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[2]||(t[2]=a=>s.value.order_number=a),placeholder:"Enter display order"},null,512),[[p,s.value.order_number]])])]),e("div",te,[se,e("div",ae,[(r(!0),d(D,null,A(s.value.key_features,(a,c)=>(r(),d("div",oe,[e("div",le,[e("div",re,[m(e("input",{type:"text",class:"border border-gray-300 p-2 w-full text-sm rounded-lg",placeholder:"Enter Name","onUpdate:modelValue":i=>a.name=i},null,8,ne),[[p,a.name]]),s.value.key_features.length>1?(r(),d("button",{key:0,onClick:i=>j(c),class:"absolute right-1 top-1 bg-slate-100 rounded w-8 h-8 flex items-center justify-center shadow"},[f(l,{name:"material-symbols:close-rounded",class:"text-common text-xl"})],8,ie)):x("",!0)])])]))),256)),e("button",{class:"w-1/5 text-xs bg-primary rounded-lg py-3 px-4 text-nowrap text-white",onClick:I}," Add More ")])]),e("div",de,[e("div",ue,[ce,e("label",me,[e("div",pe,[n.value?(r(),d("img",{key:0,src:n.value,class:"w-full h-full rounded-md object-cover"},null,8,xe)):x("",!0),n.value?x("",!0):(r(),d("div",fe,[f(l,{name:"tabler:cloud-upload",class:"text-primary text-2xl sm:text-3xl opacity-85"}),_e,be]))]),e("input",{id:"category-icon",onChange:E,type:"file",hidden:"",accept:"image/*"},null,32)])])]),e("div",ye,[e("button",{class:"w-full px-4 sm:px-6 py-3.5 bg-primary hover:bg-primary/90 text-white text-sm font-medium rounded-lg shadow-sm hover:shadow transition-all duration-200 flex items-center justify-center gap-2",onClick:t[3]||(t[3]=a=>C(_(u).params.id)),disabled:_(b)},[f(l,{name:"mdi:content-save",class:"text-lg"}),F(" "+S(_(b)?"Saving...":"Update Quote"),1)],8,ge)])])])]),_:1})}}};export{Ue as default};
