import{u as y,k as b,l as v,v as w,w as u,o as c,b as e,a as s,j as a,s as k,c as d,t as n,d as r,h as m,y as C,r as j}from"./app-h2MldgnN.js";import{_ as L}from"./GuestLayout-DxESMbO6.js";const D={class:"p-4 sm:p-6 max-w-5xl mx-auto"},R={class:"mb-6"},B=e("span",null,"Back to Complaints",-1),z=e("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-900"}," Complaint Details ",-1),A={key:0,class:"text-center py-10"},N=e("p",null,"Loading...",-1),U=[N],V={key:1,class:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden"},$={class:"p-6 sm:p-8 border-b border-gray-100 bg-gray-50/50"},E={class:"flex flex-col md:flex-row md:items-start md:justify-between gap-6"},S={class:"space-y-4"},O={class:"text-lg font-semibold text-gray-900"},T={class:"flex items-center gap-3 mt-2"},q={class:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700 border border-blue-100"},F={class:"text-sm text-gray-500 flex items-center gap-1"},M={class:"flex flex-col sm:flex-row gap-4 sm:gap-8"},G={class:"flex items-center gap-3"},H={class:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary"},I=e("p",{class:"text-sm text-gray-500"}," Complainant ",-1),J={class:"font-medium text-gray-900"},K={class:"flex items-center gap-3"},P={class:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary"},Q=e("p",{class:"text-sm text-gray-500"}," Contact ",-1),W={class:"font-medium text-gray-900"},X={key:0,class:"flex items-center gap-3"},Y={class:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary"},Z=e("p",{class:"text-sm text-gray-500"}," Email ",-1),ee={class:"font-medium text-gray-900"},te={class:"p-6 sm:p-8 space-y-8"},se=e("h4",{class:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-3"}," Location ",-1),oe={class:"bg-gray-50 rounded-lg p-4 border border-gray-100"},ae={class:"text-gray-700 flex items-center gap-2"},ne=e("h4",{class:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-3"}," Description ",-1),ie={class:"bg-gray-50 rounded-lg p-6 border border-gray-100 min-h-[100px] whitespace-pre-wrap text-gray-700 leading-relaxed"},le={key:0},ce=e("h4",{class:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-3"}," Attachment ",-1),de={class:"flex items-center gap-4 bg-gray-50 rounded-lg p-4 border border-gray-100"},re={class:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600"},me=e("div",{class:"flex-1"},[e("p",{class:"text-sm font-medium text-gray-900"}," Attached Document "),e("p",{class:"text-xs text-gray-500"}," Click download to view file ")],-1),he={__name:"Show",setup(pe){const{sendRequest:p,loading:x,error:_e}=y(),_=C(),t=b(null),h=async()=>{var l;const o=await p({method:"get",url:`/v1/complaint/${_.params.id}`});o&&(t.value=(l=o.data)==null?void 0:l.data)},g=async()=>{try{const o=await p({method:"get",url:`/v1/complaint/${_.params.id}/download`,responseType:"blob"});if(o){const l=window.URL.createObjectURL(new Blob([o.data])),i=document.createElement("a");i.href=l;const f=t.value.file?t.value.file.split("/").pop():"complaint-attachment";i.setAttribute("download",f),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(l)}}catch(o){console.error("Download failed",o)}};return v(()=>{h()}),(o,l)=>{const i=j("RouterLink");return c(),w(L,null,{default:u(()=>[e("section",D,[e("div",R,[s(i,{to:"/admin/complaints",class:"inline-flex items-center gap-2 text-gray-500 hover:text-primary transition-colors mb-4"},{default:u(()=>[s(a,{name:"mdi:arrow-left"}),B]),_:1}),z]),k(x)?(c(),d("div",A,U)):t.value?(c(),d("div",V,[e("div",$,[e("div",E,[e("div",S,[e("div",null,[e("h3",O,n(t.value.subject),1),e("div",T,[e("span",q,n(t.value.type),1),e("span",F,[s(a,{name:"mdi:calendar"}),r(" "+n(new Date(t.value.created_at).toLocaleDateString()),1)])])]),e("div",M,[e("div",G,[e("div",H,[s(a,{name:"mdi:account",size:"20"})]),e("div",null,[I,e("p",J,n(t.value.name),1)])]),e("div",K,[e("div",P,[s(a,{name:"mdi:phone",size:"20"})]),e("div",null,[Q,e("p",W,n(t.value.phone),1)])]),t.value.email?(c(),d("div",X,[e("div",Y,[s(a,{name:"mdi:email",size:"20"})]),e("div",null,[Z,e("p",ee,n(t.value.email),1)])])):m("",!0)])])])]),e("div",te,[e("div",null,[se,e("div",oe,[e("p",ae,[s(a,{name:"mdi:map-marker",class:"text-red-500"}),r(" "+n(t.value.location),1)])])]),e("div",null,[ne,e("div",ie,n(t.value.description),1)]),t.value.file?(c(),d("div",le,[ce,e("div",de,[e("div",re,[s(a,{name:"mdi:file-document",size:"24"})]),me,e("button",{onClick:g,class:"px-4 py-2 bg-primary text-white text-sm font-medium rounded-lg hover:bg-secondary transition-colors flex items-center gap-2"},[s(a,{name:"mdi:download"}),r(" Download ")])])])):m("",!0)])])):m("",!0)])]),_:1})}}};export{he as default};
