import{u as x,k as h,l as b,v as w,w as p,o as y,b as t,A as P,B as V,a as _,s as k,d as B,J as C,y as U,G as N,r as T}from"./app-h2MldgnN.js";import{S as $}from"./SummernoteEditor-g0cSdX2s.js";import{_ as R}from"./GuestLayout-DxESMbO6.js";const S={class:"flex justify-center"},A={class:"w-full pr-1"},E={class:"p-4 shadow-lg rounded-lg"},M=t("h3",null,"Create New Page",-1),j={class:"mb-5"},q=t("label",{for:"title",class:"mb-1 block text-sm"},"Page Title",-1),D=t("label",{for:"summery",class:"mb-1 block text-sm"},"Page Content",-1),G={class:"editor_data"},J={class:"mt-5"},O={__name:"Edit",setup(z){const{error:F,loading:H,sendRequest:d}=x(),v=C(),n=U(),f=async()=>{var s,l,o,i,u,r,c,m;const a=await d({method:"get",url:`/v1/pages/${(s=n==null?void 0:n.params)==null?void 0:s.id}`});a&&(e.value=(l=a.data)==null?void 0:l.data,e.value.id=(i=(o=a.data)==null?void 0:o.data)==null?void 0:i.id,e.value.title=(r=(u=a.data)==null?void 0:u.data)==null?void 0:r.title,e.value.content=(m=(c=a.data)==null?void 0:c.data)==null?void 0:m.content)},e=h({id:null,title:null,content:""}),g=async a=>{await d({method:"post",url:`/v1/pages/${a}`,params:{_method:"PUT"},data:e.value})&&(N.success("Page Update Successfully",{autoClose:1e3}),v.push("/admin/pages"))};return b(()=>{f()}),(a,s)=>{const l=T("Button");return y(),w(R,null,{default:p(()=>[t("div",S,[t("div",A,[t("div",E,[M,t("div",j,[q,P(t("input",{id:"title",type:"text",class:"p-2 rounded-md border w-full","onUpdate:modelValue":s[0]||(s[0]=o=>e.value.title=o)},null,512),[[V,e.value.title]])]),t("div",null,[D,t("div",G,[_(k($),{modelValue:e.value.content,"onUpdate:modelValue":s[1]||(s[1]=o=>e.value.content=o)},null,8,["modelValue"])])]),t("div",J,[_(l,{onClick:s[2]||(s[2]=o=>g(e.value.id)),class:"w-full mx-auto bg-primary text-xl font-semibold py-3 text-white mt-8"},{default:p(()=>[B("Update Page")]),_:1})])])])])]),_:1})}}};export{O as default};
