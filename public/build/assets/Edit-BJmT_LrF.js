import{u as C,k,l as D,v as N,w as S,o as u,b as e,A as r,B as n,D as R,c as m,e as $,F as j,h as f,a as b,s as x,d as F,t as H,J as M,y as T,G as P,r as L}from"./app-h2MldgnN.js";import{_ as q}from"./GuestLayout-DxESMbO6.js";import"./SummernoteEditor-g0cSdX2s.js";const G={class:"p-4 sm:p-6 bg-white shadow-md max-w-3xl mx-auto"},J=e("div",{class:"mb-6"},[e("h2",{class:"text-xl sm:text-2xl font-semibold text-primary text-center"}," Update About Info "),e("p",{class:"text-gray-500 text-sm text-center mt-1"}," Update About Info ")],-1),K={class:"flex flex-wrap -mx-2"},O={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},Y={class:"flex flex-col gap-1"},z=e("label",{for:"name",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Name",-1),Q={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},W={class:"flex flex-col gap-1"},X=e("label",{for:"birth_date",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Birth Date",-1),Z={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},ee={class:"flex flex-col gap-1"},te=e("label",{for:"birth_place",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Birth Place",-1),se={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},le={class:"flex flex-col gap-1"},oe=e("label",{for:"education",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Education",-1),ae={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},re={class:"flex flex-col gap-1"},ne=e("label",{for:"height",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Height",-1),de={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},ie={class:"flex flex-col gap-1"},ue=e("label",{for:"order_number",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Order Number",-1),ce={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},me={class:"flex flex-col gap-1"},pe=e("label",{for:"status",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Status",-1),fe=e("option",{value:"1"},"Active",-1),be=e("option",{value:"0"},"Inactive",-1),xe=[fe,be],_e={class:"w-full mb-4 sm:mb-5 px-2"},he={class:"flex flex-col gap-1"},ge=e("label",{for:"description",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Description",-1),ye={class:"w-full mb-3 sm:mb-5 px-2"},ve=e("label",{for:"key-features",class:"text-xs mb-1 block"},"Key Features",-1),we={class:"flex items-end flex-wrap -mt-4"},ke={class:"flex flex-wrap -mx-2"},Ue={class:"w-1/2 px-2 mb-2"},Ve=["onUpdate:modelValue"],Ie={class:"w-1/2 px-2 mb-2"},Ae=["onUpdate:modelValue"],Ee={class:"w-full px-2"},Be=["onUpdate:modelValue"],Ce=["onClick"],De={class:"w-full mb-4 px-2"},Ne={class:"flex flex-col"},Se=e("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Hero Image",-1),Re={class:"border-2 border-dashed border-primary/40 hover:border-primary p-4 rounded-xl flex items-center justify-center w-full h-auto cursor-pointer transition-all hover:bg-primary/5"},$e={class:"text-center"},je=["src"],Fe={key:1,class:"flex flex-col items-center"},He=e("span",{class:"text-primary text-sm font-medium"}," Upload Hero Image ",-1),Me=e("span",{class:"text-gray-400 text-xs mt-1"}," Recommended: 1200Ã—600px ",-1),Te={class:"w-full mt-4 sm:mt-5 px-2"},Pe=["disabled"],Oe={__name:"Edit",setup(Le){const{loading:_,error:qe,sendRequest:h}=C(),U=M(),p=T(),V=async()=>{var t,d,s,i,a,g,y,v,w;const o=await h({url:`/v1/about/${(t=p==null?void 0:p.params)==null?void 0:t.id}`,method:"get"});o&&(l.value=(d=o.data)==null?void 0:d.data,l.value.key_features=(a=(i=(s=o.data)==null?void 0:s.data)==null?void 0:i.key_features)!=null&&a.length?(y=(g=o.data)==null?void 0:g.data)==null?void 0:y.key_features:[{title:null,short_description:null,year:null}],c.value=(w=(v=o.data)==null?void 0:v.data)==null?void 0:w.image,l.value.image=null)},c=k(null),l=k({name:null,description:null,birth_date:null,birth_place:null,education:null,height:null,order_number:null,image:null,status:0,key_features:[{title:null,short_description:null,year:null}]}),I=async o=>{const t=await h({method:"post",url:`/v1/about/${o}`,data:l.value,params:{_method:"PUT"}});t!=null&&t.data&&(P.success("About Info Updated Successfully",{autoclose:1e3,theme:"dark"}),await U.push("/admin/about"))},A=()=>{l.value.key_features.push({title:null,short_description:null,year:null})},E=o=>{l.value.key_features.length>1&&l.value.key_features.splice(o,1)},B=o=>{const t=o.target.files[0];if(t){l.value.image=t;const d=new FileReader;d.onload=s=>{c.value=s.target.result},d.readAsDataURL(t)}};return D(()=>{V()}),(o,t)=>{const d=L("Icon");return u(),N(q,null,{default:S(()=>[e("div",G,[J,e("div",K,[e("div",O,[e("div",Y,[z,r(e("input",{type:"text",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[0]||(t[0]=s=>l.value.name=s),placeholder:"Enter Name"},null,512),[[n,l.value.name]])])]),e("div",Q,[e("div",W,[X,r(e("input",{type:"date",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[1]||(t[1]=s=>l.value.birth_date=s)},null,512),[[n,l.value.birth_date]])])]),e("div",Z,[e("div",ee,[te,r(e("input",{type:"text",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[2]||(t[2]=s=>l.value.birth_place=s),placeholder:"Enter Birth Place"},null,512),[[n,l.value.birth_place]])])]),e("div",se,[e("div",le,[oe,r(e("input",{type:"text",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[3]||(t[3]=s=>l.value.education=s),placeholder:"Enter Education"},null,512),[[n,l.value.education]])])]),e("div",ae,[e("div",re,[ne,r(e("input",{type:"text",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[4]||(t[4]=s=>l.value.height=s),placeholder:"Enter Height"},null,512),[[n,l.value.height]])])]),e("div",de,[e("div",ie,[ue,r(e("input",{type:"number",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[5]||(t[5]=s=>l.value.order_number=s),placeholder:"Enter display order"},null,512),[[n,l.value.order_number]])])]),e("div",ce,[e("div",me,[pe,r(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.value.status=s),class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200"},xe,512),[[R,l.value.status]])])]),e("div",_e,[e("div",he,[ge,r(e("textarea",{class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[7]||(t[7]=s=>l.value.description=s),placeholder:"Enter Description",rows:"4"},null,512),[[n,l.value.description]])])]),e("div",ye,[ve,e("div",we,[(u(!0),m(j,null,$(l.value.key_features,(s,i)=>(u(),m("div",{key:i,class:"w-full border p-3 rounded-lg mt-4 relative"},[e("div",ke,[e("div",Ue,[r(e("input",{type:"text",class:"border border-gray-300 p-2 w-full text-sm rounded-lg",placeholder:"Title","onUpdate:modelValue":a=>s.title=a},null,8,Ve),[[n,s.title]])]),e("div",Ie,[r(e("input",{type:"text",class:"border border-gray-300 p-2 w-full text-sm rounded-lg",placeholder:"Year","onUpdate:modelValue":a=>s.year=a},null,8,Ae),[[n,s.year]])]),e("div",Ee,[r(e("textarea",{class:"border border-gray-300 p-2 w-full text-sm rounded-lg",placeholder:"Short Description","onUpdate:modelValue":a=>s.short_description=a,rows:"2"},null,8,Be),[[n,s.short_description]])])]),l.value.key_features.length>1?(u(),m("button",{key:0,onClick:a=>E(i),class:"absolute right-1 top-1 bg-slate-100 rounded w-8 h-8 flex items-center justify-center shadow"},[b(d,{name:"material-symbols:close-rounded",class:"text-common text-xl"})],8,Ce)):f("",!0)]))),128)),e("button",{class:"w-1/5 text-xs bg-primary rounded-lg py-3 px-4 text-nowrap text-white mt-4",onClick:A}," Add More ")])]),e("div",De,[e("div",Ne,[Se,e("label",Re,[e("div",$e,[c.value?(u(),m("img",{key:0,src:c.value,class:"w-full h-full rounded-lg object-cover"},null,8,je)):f("",!0),c.value?f("",!0):(u(),m("div",Fe,[b(d,{name:"tabler:cloud-upload",class:"text-primary text-2xl sm:text-3xl mb-2"}),He,Me]))]),e("input",{id:"category-icon",onChange:B,type:"file",hidden:"",accept:"image/*"},null,32)])])]),e("div",Te,[e("button",{class:"w-full px-4 sm:px-6 py-3.5 bg-primary hover:bg-primary/90 text-white text-sm font-medium rounded-lg shadow-sm hover:shadow transition-all duration-200 flex items-center justify-center gap-2",onClick:t[8]||(t[8]=s=>{var i,a;return I((a=(i=x(p))==null?void 0:i.params)==null?void 0:a.id)}),disabled:x(_)},[b(d,{name:"mdi:content-save",class:"text-lg"}),F(" "+H(x(_)?"Saving...":"Update About"),1)],8,Pe)])])])]),_:1})}}};export{Oe as default};
