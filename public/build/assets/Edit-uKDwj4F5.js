import{u as S,k as U,l as V,v as C,w as E,o as m,b as e,A as n,B as d,c,e as I,F as B,s as p,a as v,d as F,t as N,J as T,y as $,G as A,r as M,h as R}from"./app-h2MldgnN.js";import{_ as j}from"./GuestLayout-DxESMbO6.js";import"./SummernoteEditor-g0cSdX2s.js";const D={class:"p-4 sm:p-6 bg-white shadow-md max-w-3xl mx-auto"},K=e("div",{class:"mb-6"},[e("h2",{class:"text-xl sm:text-2xl font-semibold text-primary text-center"}," Update Serve "),e("p",{class:"text-gray-500 text-sm text-center mt-1"}," Update a Serve ")],-1),q={class:"flex flex-wrap -mx-2"},G={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},J={class:"flex flex-col gap-1"},L=e("label",{for:"title",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Title",-1),O={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},P={class:"flex flex-col gap-1"},z=e("label",{for:"title",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Sub Title",-1),H={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},Q={class:"flex flex-col gap-1"},W=e("label",{for:"serve_icon",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Icon Class",-1),X=e("p",{class:"text-xs text-gray-500 mt-1"}," Enter icon class name (Font Awesome, Material Icons, etc.) ",-1),Y={class:"w-full sm:w-1/2 mb-4 sm:mb-5 px-2"},Z={class:"flex flex-col gap-1"},ee=e("label",{for:"order_number",class:"text-sm mb-1 sm:mb-2 font-medium text-gray-700"},"Order Number",-1),te={class:"w-full mb-3 sm:mb-5 px-2"},se=e("label",{for:"key-features",class:"text-xs mb-1 block"},"Key Features",-1),ae={class:"flex items-end flex-wrap -mt-4"},oe={class:"w-4/5 pr-4 mt-4 flex items-center"},le=["onUpdate:modelValue"],re=["onClick"],ne={class:"w-full mt-4 sm:mt-5 px-2"},de=["disabled"],fe={__name:"Edit",setup(ie){const{loading:f,error:ue,sendRequest:x}=S(),y=T(),i=$(),g=async()=>{var t,l,a,u,r,_,b;const o=await x({url:`/v1/serve/${(t=i==null?void 0:i.params)==null?void 0:t.id}`,method:"get"});o&&(s.value=(l=o.data)==null?void 0:l.data,s.value.key_features=(r=(u=(a=o.data)==null?void 0:a.data)==null?void 0:u.key_features)!=null&&r.length?(b=(_=o.data)==null?void 0:_.data)==null?void 0:b.key_features:[{name:""}])},s=U({title:null,sub_title:null,order_number:null,serve_icon:null,status:0,key_features:[{name:null}]}),h=async o=>{const t=await x({method:"post",url:`/v1/serve/${o}`,data:s.value,params:{_method:"PUT"}});t!=null&&t.data&&(A.success("Serve Updated Successfully",{autoclose:1e3,theme:"dark"}),await y.push("/admin/serve"))},w=()=>{s.value.key_features.push({name:""})},k=o=>{s.value.key_features.length>1&&s.value.key_features.splice(o,1)};return V(()=>{g()}),(o,t)=>{const l=M("Icon");return m(),C(j,null,{default:E(()=>[e("div",D,[K,e("div",q,[e("div",G,[e("div",J,[L,n(e("input",{type:"text",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[0]||(t[0]=a=>s.value.title=a),placeholder:"Enter Serve title"},null,512),[[d,s.value.title]])])]),e("div",O,[e("div",P,[z,n(e("input",{type:"text",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[1]||(t[1]=a=>s.value.sub_title=a),placeholder:"Enter Serve sub title"},null,512),[[d,s.value.sub_title]])])]),e("div",H,[e("div",Q,[W,n(e("input",{type:"text",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[2]||(t[2]=a=>s.value.serve_icon=a),placeholder:"e.g., fas fa-users, mdi-account, etc."},null,512),[[d,s.value.serve_icon]]),X])]),e("div",Y,[e("div",Z,[ee,n(e("input",{type:"number",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all duration-200","onUpdate:modelValue":t[3]||(t[3]=a=>s.value.order_number=a),placeholder:"Enter display order"},null,512),[[d,s.value.order_number]])])]),e("div",te,[se,e("div",ae,[(m(!0),c(B,null,I(s.value.key_features,(a,u)=>(m(),c("div",oe,[n(e("input",{type:"text",class:"border border-gray-300 p-2 w-full text-sm rounded-lg",placeholder:"Enter Key Features","onUpdate:modelValue":r=>a.name=r},null,8,le),[[d,a.name]]),s.value.key_features.length>1?(m(),c("button",{key:0,onClick:r=>k(u),class:"bg-slate-100 rounded w-8 h-8 flex items-center justify-center -ml-[36px] shadow"},[v(l,{name:"material-symbols:close-rounded",class:"text-common text-2xl"})],8,re)):R("",!0)]))),256)),e("button",{class:"w-1/5 text-xs bg-primary rounded-lg py-3 px-4 text-nowrap text-white",onClick:w}," Add More ")])]),e("div",ne,[e("button",{class:"w-full px-4 sm:px-6 py-3.5 bg-primary hover:bg-primary/90 text-white text-sm font-medium rounded-lg shadow-sm hover:shadow transition-all duration-200 flex items-center justify-center gap-2",onClick:t[4]||(t[4]=a=>h(p(i).params.id)),disabled:p(f)},[v(l,{name:"mdi:content-save",class:"text-lg"}),F(" "+N(p(f)?"Saving...":"Update Serve"),1)],8,de)])])])]),_:1})}}};export{fe as default};
